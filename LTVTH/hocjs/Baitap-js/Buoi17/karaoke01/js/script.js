var lyric = `[
  {
    "words": [
      {
        "startTime": 35400,
        "endTime": 36200,
        "data": "Níu"
      },
      {
        "startTime": 36200,
        "endTime": 36460,
        "data": "ngàn"
      },
      {
        "startTime": 36460,
        "endTime": 37260,
        "data": "lời"
      },
      {
        "startTime": 37260,
        "endTime": 37520,
        "data": "cũng"
      },
      {
        "startTime": 37520,
        "endTime": 38050,
        "data": "không"
      },
      {
        "startTime": 38050,
        "endTime": 38580,
        "data": "ngăn"
      },
      {
        "startTime": 38580,
        "endTime": 39290,
        "data": "được"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 39290,
        "endTime": 39690,
        "data": "Bàn"
      },
      {
        "startTime": 39690,
        "endTime": 40100,
        "data": "chân"
      },
      {
        "startTime": 40100,
        "endTime": 40100,
        "data": "bước"
      },
      {
        "startTime": 40100,
        "endTime": 40900,
        "data": "đi"
      },
      {
        "startTime": 40900,
        "endTime": 41290,
        "data": "không"
      },
      {
        "startTime": 41290,
        "endTime": 41690,
        "data": "báo"
      },
      {
        "startTime": 41690,
        "endTime": 43500,
        "data": "trước"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 43500,
        "endTime": 44030,
        "data": "Có"
      },
      {
        "startTime": 44030,
        "endTime": 44480,
        "data": "những"
      },
      {
        "startTime": 44480,
        "endTime": 45280,
        "data": "điều"
      },
      {
        "startTime": 45280,
        "endTime": 45550,
        "data": "cất"
      },
      {
        "startTime": 45550,
        "endTime": 46080,
        "data": "riêng"
      },
      {
        "startTime": 46080,
        "endTime": 46350,
        "data": "trong"
      },
      {
        "startTime": 46350,
        "endTime": 47420,
        "data": "lòng"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 47420,
        "endTime": 47670,
        "data": "Giờ"
      },
      {
        "startTime": 47670,
        "endTime": 47950,
        "data": "bốn"
      },
      {
        "startTime": 47950,
        "endTime": 48210,
        "data": "vách"
      },
      {
        "startTime": 48210,
        "endTime": 48670,
        "data": "ngăn"
      },
      {
        "startTime": 48670,
        "endTime": 48930,
        "data": "cùng"
      },
      {
        "startTime": 48930,
        "endTime": 49730,
        "data": "cô"
      },
      {
        "startTime": 49730,
        "endTime": 51520,
        "data": "phòng"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 51520,
        "endTime": 51780,
        "data": "Trốn"
      },
      {
        "startTime": 51780,
        "endTime": 52050,
        "data": "chạy"
      },
      {
        "startTime": 52050,
        "endTime": 52310,
        "data": "rồi"
      },
      {
        "startTime": 52310,
        "endTime": 52600,
        "data": "hàn"
      },
      {
        "startTime": 52600,
        "endTime": 52860,
        "data": "huyên"
      },
      {
        "startTime": 52860,
        "endTime": 53110,
        "data": "với"
      },
      {
        "startTime": 53110,
        "endTime": 55240,
        "data": "men"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 55240,
        "endTime": 55510,
        "data": "Cứ"
      },
      {
        "startTime": 55510,
        "endTime": 55770,
        "data": "thế"
      },
      {
        "startTime": 55770,
        "endTime": 56310,
        "data": "kết"
      },
      {
        "startTime": 56310,
        "endTime": 56580,
        "data": "thân"
      },
      {
        "startTime": 56580,
        "endTime": 56830,
        "data": "cùng"
      },
      {
        "startTime": 56830,
        "endTime": 57360,
        "data": "ánh"
      },
      {
        "startTime": 57360,
        "endTime": 59230,
        "data": "đèn"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 59230,
        "endTime": 59760,
        "data": "Lối"
      },
      {
        "startTime": 59760,
        "endTime": 60020,
        "data": "mòn"
      },
      {
        "startTime": 60020,
        "endTime": 60290,
        "data": "ngày"
      },
      {
        "startTime": 60290,
        "endTime": 60550,
        "data": "nào"
      },
      {
        "startTime": 60550,
        "endTime": 60820,
        "data": "trên"
      },
      {
        "startTime": 60820,
        "endTime": 61350,
        "data": "phố"
      },
      {
        "startTime": 61350,
        "endTime": 63210,
        "data": "quen"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 63210,
        "endTime": 63480,
        "data": "Vẫn"
      },
      {
        "startTime": 63480,
        "endTime": 63930,
        "data": "đó"
      },
      {
        "startTime": 63930,
        "endTime": 64190,
        "data": "dáng"
      },
      {
        "startTime": 64190,
        "endTime": 64460,
        "data": "hình"
      },
      {
        "startTime": 64460,
        "endTime": 64730,
        "data": "ngày"
      },
      {
        "startTime": 64730,
        "endTime": 65260,
        "data": "người"
      },
      {
        "startTime": 65260,
        "endTime": 67110,
        "data": "đến"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 67110,
        "endTime": 67380,
        "data": "Rời"
      },
      {
        "startTime": 67380,
        "endTime": 67850,
        "data": "xa"
      },
      {
        "startTime": 67850,
        "endTime": 68120,
        "data": "lòng"
      },
      {
        "startTime": 68120,
        "endTime": 68920,
        "data": "đau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 68920,
        "endTime": 69180,
        "data": "Chết"
      },
      {
        "startTime": 69180,
        "endTime": 69440,
        "data": "trong"
      },
      {
        "startTime": 69440,
        "endTime": 69710,
        "data": "cơn"
      },
      {
        "startTime": 69710,
        "endTime": 70250,
        "data": "u"
      },
      {
        "startTime": 70250,
        "endTime": 71300,
        "data": "sầu"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 71300,
        "endTime": 71570,
        "data": "Liệu"
      },
      {
        "startTime": 71570,
        "endTime": 71830,
        "data": "rằng"
      },
      {
        "startTime": 71830,
        "endTime": 72100,
        "data": "tình"
      },
      {
        "startTime": 72100,
        "endTime": 72370,
        "data": "đời"
      },
      {
        "startTime": 72370,
        "endTime": 72890,
        "data": "ai"
      },
      {
        "startTime": 72890,
        "endTime": 73160,
        "data": "sẽ"
      },
      {
        "startTime": 73160,
        "endTime": 75020,
        "data": "thấu"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 75020,
        "endTime": 75280,
        "data": "Dĩ"
      },
      {
        "startTime": 75280,
        "endTime": 76010,
        "data": "vãng"
      },
      {
        "startTime": 76010,
        "endTime": 76800,
        "data": "xưa"
      },
      {
        "startTime": 76800,
        "endTime": 77070,
        "data": "vẫn"
      },
      {
        "startTime": 77070,
        "endTime": 77330,
        "data": "in"
      },
      {
        "startTime": 77330,
        "endTime": 77600,
        "data": "sâu"
      },
      {
        "startTime": 77600,
        "endTime": 78130,
        "data": "trong"
      },
      {
        "startTime": 78130,
        "endTime": 79200,
        "data": "đầu"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 79200,
        "endTime": 80190,
        "data": "(hah"
      },
      {
        "startTime": 80190,
        "endTime": 80980,
        "data": "a"
      },
      {
        "startTime": 80980,
        "endTime": 83980,
        "data": "hah)"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 84440,
        "endTime": 84440,
        "data": "Thời"
      },
      {
        "startTime": 84440,
        "endTime": 84700,
        "data": "gian"
      },
      {
        "startTime": 84700,
        "endTime": 85240,
        "data": "không"
      },
      {
        "startTime": 85240,
        "endTime": 85980,
        "data": "thể"
      },
      {
        "startTime": 85980,
        "endTime": 86500,
        "data": "xóa"
      },
      {
        "startTime": 86500,
        "endTime": 86770,
        "data": "nhòa"
      },
      {
        "startTime": 86770,
        "endTime": 87030,
        "data": "đôi"
      },
      {
        "startTime": 87030,
        "endTime": 88090,
        "data": "ta"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 88090,
        "endTime": 88360,
        "data": "Có"
      },
      {
        "startTime": 88360,
        "endTime": 88620,
        "data": "chăng"
      },
      {
        "startTime": 88620,
        "endTime": 89160,
        "data": "chỉ"
      },
      {
        "startTime": 89160,
        "endTime": 89340,
        "data": "là"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 89340,
        "endTime": 89610,
        "data": "Mờ"
      },
      {
        "startTime": 89610,
        "endTime": 89880,
        "data": "phai"
      },
      {
        "startTime": 89880,
        "endTime": 90140,
        "data": "đi"
      },
      {
        "startTime": 90140,
        "endTime": 90670,
        "data": "theo"
      },
      {
        "startTime": 90670,
        "endTime": 90940,
        "data": "tháng"
      },
      {
        "startTime": 90940,
        "endTime": 92000,
        "data": "năm"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 92000,
        "endTime": 92270,
        "data": "Rồi"
      },
      {
        "startTime": 92270,
        "endTime": 92530,
        "data": "khi"
      },
      {
        "startTime": 92530,
        "endTime": 93070,
        "data": "tỉnh"
      },
      {
        "startTime": 93070,
        "endTime": 93870,
        "data": "giấc"
      },
      {
        "startTime": 93870,
        "endTime": 94130,
        "data": "mới"
      },
      {
        "startTime": 94130,
        "endTime": 94390,
        "data": "chợt"
      },
      {
        "startTime": 94390,
        "endTime": 94930,
        "data": "nhận"
      },
      {
        "startTime": 94930,
        "endTime": 96700,
        "data": "ra"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 96700,
        "endTime": 97230,
        "data": "Thật"
      },
      {
        "startTime": 97230,
        "endTime": 97490,
        "data": "quá"
      },
      {
        "startTime": 97490,
        "endTime": 97760,
        "data": "khó"
      },
      {
        "startTime": 97760,
        "endTime": 98020,
        "data": "để"
      },
      {
        "startTime": 98020,
        "endTime": 98290,
        "data": "quên"
      },
      {
        "startTime": 98290,
        "endTime": 98560,
        "data": "đi"
      },
      {
        "startTime": 98560,
        "endTime": 98820,
        "data": "một"
      },
      {
        "startTime": 98820,
        "endTime": 100090,
        "data": "người"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 100090,
        "endTime": 100350,
        "data": "Màn"
      },
      {
        "startTime": 100350,
        "endTime": 100620,
        "data": "đêm"
      },
      {
        "startTime": 100620,
        "endTime": 100890,
        "data": "u"
      },
      {
        "startTime": 100890,
        "endTime": 101870,
        "data": "tối"
      },
      {
        "startTime": 101870,
        "endTime": 102400,
        "data": "bao"
      },
      {
        "startTime": 102400,
        "endTime": 102670,
        "data": "trùm"
      },
      {
        "startTime": 102670,
        "endTime": 102940,
        "data": "không"
      },
      {
        "startTime": 102940,
        "endTime": 104000,
        "data": "gian"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 104000,
        "endTime": 104270,
        "data": "Nói"
      },
      {
        "startTime": 104270,
        "endTime": 104530,
        "data": "thay"
      },
      {
        "startTime": 104530,
        "endTime": 104800,
        "data": "tiếng"
      },
      {
        "startTime": 104800,
        "endTime": 105070,
        "data": "lòng"
      },
      {
        "startTime": 105070,
        "endTime": 105600,
        "data": "này"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 105600,
        "endTime": 105870,
        "data": "Từ"
      },
      {
        "startTime": 105870,
        "endTime": 106130,
        "data": "lâu"
      },
      {
        "startTime": 106130,
        "endTime": 106390,
        "data": "đã"
      },
      {
        "startTime": 106390,
        "endTime": 106920,
        "data": "vỡ"
      },
      {
        "startTime": 106920,
        "endTime": 107990,
        "data": "tan"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 107990,
        "endTime": 108250,
        "data": "Thì"
      },
      {
        "startTime": 108250,
        "endTime": 108520,
        "data": "ra"
      },
      {
        "startTime": 108520,
        "endTime": 108780,
        "data": "duyên"
      },
      {
        "startTime": 108780,
        "endTime": 109840,
        "data": "kiếp"
      },
      {
        "startTime": 109840,
        "endTime": 110110,
        "data": "để"
      },
      {
        "startTime": 110110,
        "endTime": 110380,
        "data": "mình"
      },
      {
        "startTime": 110380,
        "endTime": 110640,
        "data": "gặp"
      },
      {
        "startTime": 110640,
        "endTime": 111970,
        "data": "nhau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 111970,
        "endTime": 112230,
        "data": "Dạy"
      },
      {
        "startTime": 112230,
        "endTime": 112500,
        "data": "nhau"
      },
      {
        "startTime": 112500,
        "endTime": 112770,
        "data": "tốt"
      },
      {
        "startTime": 112770,
        "endTime": 113040,
        "data": "hơn"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 113040,
        "endTime": 113570,
        "data": "Xong"
      },
      {
        "startTime": 113570,
        "endTime": 113830,
        "data": "dành"
      },
      {
        "startTime": 113830,
        "endTime": 114100,
        "data": "lại"
      },
      {
        "startTime": 114100,
        "endTime": 114370,
        "data": "cho"
      },
      {
        "startTime": 114370,
        "endTime": 114630,
        "data": "người"
      },
      {
        "startTime": 114630,
        "endTime": 117630,
        "data": "sau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 148350,
        "endTime": 148620,
        "data": "Rời"
      },
      {
        "startTime": 148620,
        "endTime": 149150,
        "data": "xa"
      },
      {
        "startTime": 149150,
        "endTime": 149420,
        "data": "lòng"
      },
      {
        "startTime": 149420,
        "endTime": 150140,
        "data": "đau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 150140,
        "endTime": 150410,
        "data": "Chết"
      },
      {
        "startTime": 150410,
        "endTime": 150670,
        "data": "trong"
      },
      {
        "startTime": 150670,
        "endTime": 150940,
        "data": "cơn"
      },
      {
        "startTime": 150940,
        "endTime": 151470,
        "data": "u"
      },
      {
        "startTime": 151470,
        "endTime": 152540,
        "data": "sầu"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 152540,
        "endTime": 152810,
        "data": "Liệu"
      },
      {
        "startTime": 152810,
        "endTime": 153070,
        "data": "rằng"
      },
      {
        "startTime": 153070,
        "endTime": 153330,
        "data": "tình"
      },
      {
        "startTime": 153330,
        "endTime": 153860,
        "data": "đời"
      },
      {
        "startTime": 153860,
        "endTime": 154120,
        "data": "ai"
      },
      {
        "startTime": 154120,
        "endTime": 154390,
        "data": "sẽ"
      },
      {
        "startTime": 154390,
        "endTime": 156520,
        "data": "thấu"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 156520,
        "endTime": 156790,
        "data": "Dĩ"
      },
      {
        "startTime": 156790,
        "endTime": 157250,
        "data": "vãng"
      },
      {
        "startTime": 157250,
        "endTime": 158050,
        "data": "xưa"
      },
      {
        "startTime": 158050,
        "endTime": 158320,
        "data": "vẫn"
      },
      {
        "startTime": 158320,
        "endTime": 158590,
        "data": "in"
      },
      {
        "startTime": 158590,
        "endTime": 159120,
        "data": "sâu"
      },
      {
        "startTime": 159120,
        "endTime": 159390,
        "data": "trong"
      },
      {
        "startTime": 159390,
        "endTime": 160440,
        "data": "đầu"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 160440,
        "endTime": 161500,
        "data": "(hah"
      },
      {
        "startTime": 161500,
        "endTime": 162300,
        "data": "a"
      },
      {
        "startTime": 162300,
        "endTime": 165300,
        "data": "hah)"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 165500,
        "endTime": 165760,
        "data": "Thời"
      },
      {
        "startTime": 165760,
        "endTime": 166020,
        "data": "gian"
      },
      {
        "startTime": 166020,
        "endTime": 166280,
        "data": "không"
      },
      {
        "startTime": 166280,
        "endTime": 167350,
        "data": "thể"
      },
      {
        "startTime": 167350,
        "endTime": 167610,
        "data": "xóa"
      },
      {
        "startTime": 167610,
        "endTime": 167880,
        "data": "nhòa"
      },
      {
        "startTime": 167880,
        "endTime": 168150,
        "data": "đôi"
      },
      {
        "startTime": 168150,
        "endTime": 169480,
        "data": "ta"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 169480,
        "endTime": 169750,
        "data": "Có"
      },
      {
        "startTime": 169750,
        "endTime": 170010,
        "data": "chăng"
      },
      {
        "startTime": 170010,
        "endTime": 170280,
        "data": "chỉ"
      },
      {
        "startTime": 170280,
        "endTime": 170800,
        "data": "là"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 170800,
        "endTime": 171070,
        "data": "Mờ"
      },
      {
        "startTime": 171070,
        "endTime": 171330,
        "data": "phai"
      },
      {
        "startTime": 171330,
        "endTime": 171600,
        "data": "đi"
      },
      {
        "startTime": 171600,
        "endTime": 171870,
        "data": "theo"
      },
      {
        "startTime": 171870,
        "endTime": 172130,
        "data": "tháng"
      },
      {
        "startTime": 172130,
        "endTime": 173460,
        "data": "năm"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 173460,
        "endTime": 173730,
        "data": "Rồi"
      },
      {
        "startTime": 173730,
        "endTime": 173990,
        "data": "khi"
      },
      {
        "startTime": 173990,
        "endTime": 174260,
        "data": "tỉnh"
      },
      {
        "startTime": 174260,
        "endTime": 175320,
        "data": "giấc"
      },
      {
        "startTime": 175320,
        "endTime": 175580,
        "data": "mới"
      },
      {
        "startTime": 175580,
        "endTime": 175850,
        "data": "chợt"
      },
      {
        "startTime": 175850,
        "endTime": 176120,
        "data": "nhận"
      },
      {
        "startTime": 176120,
        "endTime": 178170,
        "data": "ra"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 178170,
        "endTime": 178170,
        "data": "Thật"
      },
      {
        "startTime": 178170,
        "endTime": 178700,
        "data": "quá"
      },
      {
        "startTime": 178700,
        "endTime": 178970,
        "data": "khó"
      },
      {
        "startTime": 178970,
        "endTime": 179240,
        "data": "để"
      },
      {
        "startTime": 179240,
        "endTime": 179510,
        "data": "quên"
      },
      {
        "startTime": 179510,
        "endTime": 179770,
        "data": "đi"
      },
      {
        "startTime": 179770,
        "endTime": 180300,
        "data": "một"
      },
      {
        "startTime": 180300,
        "endTime": 181350,
        "data": "người"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 181350,
        "endTime": 181620,
        "data": "Màn"
      },
      {
        "startTime": 181620,
        "endTime": 181890,
        "data": "đêm"
      },
      {
        "startTime": 181890,
        "endTime": 182150,
        "data": "u"
      },
      {
        "startTime": 182150,
        "endTime": 183220,
        "data": "tối"
      },
      {
        "startTime": 183220,
        "endTime": 183750,
        "data": "bao"
      },
      {
        "startTime": 183750,
        "endTime": 184020,
        "data": "trùm"
      },
      {
        "startTime": 184020,
        "endTime": 184290,
        "data": "không"
      },
      {
        "startTime": 184290,
        "endTime": 185340,
        "data": "gian"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 185340,
        "endTime": 185600,
        "data": "Nói"
      },
      {
        "startTime": 185600,
        "endTime": 185870,
        "data": "thay"
      },
      {
        "startTime": 185870,
        "endTime": 186140,
        "data": "tiếng"
      },
      {
        "startTime": 186140,
        "endTime": 186400,
        "data": "lòng"
      },
      {
        "startTime": 186400,
        "endTime": 186670,
        "data": "này"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 186670,
        "endTime": 187200,
        "data": "Từ"
      },
      {
        "startTime": 187200,
        "endTime": 187470,
        "data": "lâu"
      },
      {
        "startTime": 187470,
        "endTime": 187740,
        "data": "đã"
      },
      {
        "startTime": 187740,
        "endTime": 188270,
        "data": "vỡ"
      },
      {
        "startTime": 188270,
        "endTime": 189320,
        "data": "tan"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 189320,
        "endTime": 189590,
        "data": "Thì"
      },
      {
        "startTime": 189590,
        "endTime": 189850,
        "data": "ra"
      },
      {
        "startTime": 189850,
        "endTime": 190120,
        "data": "duyên"
      },
      {
        "startTime": 190120,
        "endTime": 191190,
        "data": "kiếp"
      },
      {
        "startTime": 191190,
        "endTime": 191450,
        "data": "để"
      },
      {
        "startTime": 191450,
        "endTime": 191710,
        "data": "mình"
      },
      {
        "startTime": 191710,
        "endTime": 191980,
        "data": "gặp"
      },
      {
        "startTime": 191980,
        "endTime": 193310,
        "data": "nhau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 193310,
        "endTime": 193580,
        "data": "Dạy"
      },
      {
        "startTime": 193580,
        "endTime": 193850,
        "data": "nhau"
      },
      {
        "startTime": 193850,
        "endTime": 194110,
        "data": "tốt"
      },
      {
        "startTime": 194110,
        "endTime": 194370,
        "data": "hơn"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 194370,
        "endTime": 194640,
        "data": "Xong"
      },
      {
        "startTime": 194640,
        "endTime": 194900,
        "data": "dành"
      },
      {
        "startTime": 194900,
        "endTime": 195440,
        "data": "lại"
      },
      {
        "startTime": 195440,
        "endTime": 195700,
        "data": "cho"
      },
      {
        "startTime": 195700,
        "endTime": 195970,
        "data": "người"
      },
      {
        "startTime": 195970,
        "endTime": 198970,
        "data": "sau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 215120,
        "endTime": 215390,
        "data": "Thời"
      },
      {
        "startTime": 215390,
        "endTime": 215650,
        "data": "gian"
      },
      {
        "startTime": 215650,
        "endTime": 215910,
        "data": "không"
      },
      {
        "startTime": 215910,
        "endTime": 216980,
        "data": "thể"
      },
      {
        "startTime": 216980,
        "endTime": 217240,
        "data": "xóa"
      },
      {
        "startTime": 217240,
        "endTime": 217500,
        "data": "nhòa"
      },
      {
        "startTime": 217500,
        "endTime": 217770,
        "data": "đôi"
      },
      {
        "startTime": 217770,
        "endTime": 219100,
        "data": "ta"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 219100,
        "endTime": 219360,
        "data": "Có"
      },
      {
        "startTime": 219360,
        "endTime": 219630,
        "data": "chăng"
      },
      {
        "startTime": 219630,
        "endTime": 219900,
        "data": "chỉ"
      },
      {
        "startTime": 219900,
        "endTime": 220170,
        "data": "là"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 220170,
        "endTime": 220430,
        "data": "Mờ"
      },
      {
        "startTime": 220430,
        "endTime": 220700,
        "data": "phai"
      },
      {
        "startTime": 220700,
        "endTime": 221230,
        "data": "đi"
      },
      {
        "startTime": 221230,
        "endTime": 221490,
        "data": "theo"
      },
      {
        "startTime": 221490,
        "endTime": 221750,
        "data": "tháng"
      },
      {
        "startTime": 221750,
        "endTime": 223090,
        "data": "năm"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 223090,
        "endTime": 223350,
        "data": "Rồi"
      },
      {
        "startTime": 223350,
        "endTime": 223620,
        "data": "khi"
      },
      {
        "startTime": 223620,
        "endTime": 223880,
        "data": "tỉnh"
      },
      {
        "startTime": 223880,
        "endTime": 224680,
        "data": "giấc"
      },
      {
        "startTime": 224680,
        "endTime": 224950,
        "data": "mới"
      },
      {
        "startTime": 224950,
        "endTime": 225480,
        "data": "chợt"
      },
      {
        "startTime": 225480,
        "endTime": 225740,
        "data": "nhận"
      },
      {
        "startTime": 225740,
        "endTime": 227540,
        "data": "ra"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 227540,
        "endTime": 227800,
        "data": "Thật"
      },
      {
        "startTime": 227800,
        "endTime": 228070,
        "data": "quá"
      },
      {
        "startTime": 228070,
        "endTime": 228340,
        "data": "khó"
      },
      {
        "startTime": 228340,
        "endTime": 228870,
        "data": "để"
      },
      {
        "startTime": 228870,
        "endTime": 229060,
        "data": "quên"
      },
      {
        "startTime": 229060,
        "endTime": 229330,
        "data": "đi"
      },
      {
        "startTime": 229330,
        "endTime": 229860,
        "data": "được"
      },
      {
        "startTime": 229860,
        "endTime": 230920,
        "data": "em"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 230920,
        "endTime": 231180,
        "data": "Màn"
      },
      {
        "startTime": 231180,
        "endTime": 231450,
        "data": "đêm"
      },
      {
        "startTime": 231450,
        "endTime": 231720,
        "data": "u"
      },
      {
        "startTime": 231720,
        "endTime": 232790,
        "data": "tối"
      },
      {
        "startTime": 232790,
        "endTime": 233040,
        "data": "bao"
      },
      {
        "startTime": 233040,
        "endTime": 233570,
        "data": "trùm"
      },
      {
        "startTime": 233570,
        "endTime": 233840,
        "data": "không"
      },
      {
        "startTime": 233840,
        "endTime": 234900,
        "data": "gian"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 234900,
        "endTime": 235170,
        "data": "Nói"
      },
      {
        "startTime": 235170,
        "endTime": 235430,
        "data": "thay"
      },
      {
        "startTime": 235430,
        "endTime": 235700,
        "data": "tiếng"
      },
      {
        "startTime": 235700,
        "endTime": 235970,
        "data": "lòng"
      },
      {
        "startTime": 235970,
        "endTime": 236500,
        "data": "này"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 236500,
        "endTime": 236770,
        "data": "Từ"
      },
      {
        "startTime": 236770,
        "endTime": 237030,
        "data": "lâu"
      },
      {
        "startTime": 237030,
        "endTime": 237300,
        "data": "đã"
      },
      {
        "startTime": 237300,
        "endTime": 237830,
        "data": "tan"
      },
      {
        "startTime": 237830,
        "endTime": 238900,
        "data": "vỡ"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 238900,
        "endTime": 239170,
        "data": "Thì"
      },
      {
        "startTime": 239170,
        "endTime": 239420,
        "data": "ra"
      },
      {
        "startTime": 239420,
        "endTime": 239680,
        "data": "duyên"
      },
      {
        "startTime": 239680,
        "endTime": 240750,
        "data": "kiếp"
      },
      {
        "startTime": 240750,
        "endTime": 241010,
        "data": "để"
      },
      {
        "startTime": 241010,
        "endTime": 241280,
        "data": "mình"
      },
      {
        "startTime": 241280,
        "endTime": 241540,
        "data": "gặp"
      },
      {
        "startTime": 241540,
        "endTime": 242870,
        "data": "nhau"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 242870,
        "endTime": 243140,
        "data": "Dạy"
      },
      {
        "startTime": 243140,
        "endTime": 243410,
        "data": "nhau"
      },
      {
        "startTime": 243410,
        "endTime": 243670,
        "data": "tốt"
      },
      {
        "startTime": 243670,
        "endTime": 243930,
        "data": "hơn"
      }
    ]
  },
  {
    "words": [
      {
        "startTime": 243930,
        "endTime": 244460,
        "data": "Xong"
      },
      {
        "startTime": 244460,
        "endTime": 244730,
        "data": "dành"
      },
      {
        "startTime": 244730,
        "endTime": 245000,
        "data": "lại"
      },
      {
        "startTime": 245000,
        "endTime": 245270,
        "data": "cho"
      },
      {
        "startTime": 245270,
        "endTime": 245800,
        "data": "người"
      },
      {
        "startTime": 245800,
        "endTime": 246800,
        "data": "sau"
      }
    ]
  }
]`;

lyric = JSON.parse(lyric.trim());
var newArr = [];
lyric.forEach(function (item) {
  newArr.push(item.words);
});

var maxPage = Math.ceil(newArr.length / 2);
var getWord = function (time) {
  var index = newArr.findIndex(function (item) {
    if (time >= item[0].startTime && time <= item[item.length - 1].endTime) {
      return true;
    }
  });

  if (
    time < newArr[0][0].startTime - 5000 ||
    time >
      newArr[newArr.length - 1][newArr[newArr.length - 1].length - 1].endTime +
        5000
  ) {
    karaInner.innerText = "";
    karaInner.append(songEl);
  }

  if (index !== -1) {
    if (
      newArr[index + 1] &&
      newArr[index][newArr[index].length - 1].endTime -
        newArr[index + 1][0].startTime <
        -10000
    ) {
      setTimeout(function () {
        karaInner.innerText = "";
        karaInner.append(songEl);
      }, 5000);
    } else {
      var page = Math.floor(index / 2 + 1);

      var offset = (page - 1) * 2;
      var div = document.createElement("div");
      if (index >= offset && index < offset + 2) {
        for (var i = offset; i < offset + 2; i++) {
          var p = document.createElement("p");

          newArr[i].forEach(function (item, _index) {
            var spanWord = document.createElement("span");
            spanWord.classList.add("word");
            spanWord.dataset.index = _index;
            spanWord.innerText = item.data;
            var span = document.createElement("span");
            span.innerText = item.data;
            spanWord.append(span);

            p.append(spanWord);
          });

          div.append(p);
        }
      }

      karaInner.append(div);

      if (div.previousElementSibling) {
        div.previousElementSibling.remove();
      }
    }
  }
};

var progressBar = document.querySelector(".progress-bar");

var progress = progressBar.querySelector(".progress");

var progressDot = progress.querySelector("span");

var progressBarWidth = progressBar.clientWidth;

var timer = progressBar.querySelector(".timer");

//Open karaoke
var kara = document.querySelector(".karaoke");
var karaBtn = document.querySelector(".open-karaoke button");
var karaClose = kara.querySelector(".close");
var karaInner = kara.querySelector(".karaoke-inner");

karaBtn.addEventListener("click", function () {
  kara.classList.add("show");
});

karaClose.addEventListener("click", function () {
  kara.classList.remove("show");
});

var songEl = document.createElement("div");
songEl.innerHTML = "<p>Cô phòng<p><p>Ca sĩ: Hồ Quang Hiếu</p>";

var isDrag = false;
var initialClientX = 0;
var initalRate = 0;
var rate = 0;

progressBar.addEventListener("mousedown", function (e) {
  if (e.which === 1) {
    //   console.log(e.offsetX, progressBarWidth);
    //Tính tỷ lệ phần trăm giữa vị trí click với chiều rộng
    rate = (e.offsetX * 100) / progressBarWidth;

    //Update CSS vào progress
    progress.style.width = `${rate}%`;

    initalRate = rate;

    isDrag = true;

    initialClientX = e.clientX;

    var currentTime = (audio.duration * rate) / 100;
    currentTimeEl.innerText = getTime(currentTime);

    audio.currentTime = currentTime;
  }
});

progressDot.addEventListener("mousedown", function (e) {
  e.stopPropagation();

  if (e.which === 1) {
    isDrag = true;
    initialClientX = e.clientX;
    //   console.log(initalRate);
    //   console.log("progress dot");
  }
});

document.addEventListener("mousemove", function (e) {
  if (isDrag) {
    var space = e.clientX - initialClientX;
    // console.log(space);
    rate = (space * 100) / progressBarWidth + initalRate;
    if (rate < 0) {
      rate = 0;
    }

    if (rate > 100) {
      rate = 100;
    }

    progress.style.width = `${rate}%`;

    var currentTime = (audio.duration * rate) / 100;
    currentTimeEl.innerText = getTime(currentTime);
  }
});

document.addEventListener("mouseup", function () {
  initalRate = rate;
  var currentTime = (audio.duration * rate) / 100;
  currentTimeEl.innerText = getTime(currentTime);
  if (isDrag) {
    audio.currentTime = currentTime;
  }

  isDrag = false;
});

/*
Khi bấm chuột xuống vào chấm màu tím
- Lấy được clientX tại ví trí bấm chuột

Khi kéo chuột
- Lấy được clientX ở vị trí gần nhất (kéo đến đâu lấy vị trí ở đó)
- Tính khoảng cách kéo: clientX mới nhất - clientX ban đầu khi click
*/

var audio = document.querySelector(".audio");
var currentTimeEl = progressBar.previousElementSibling;
var durationTimeEl = progressBar.nextElementSibling;
var playBtn = document.querySelector(".play-btn");

var playIcon = `<i class="fa-solid fa-play"></i>`;
var pauseIcon = `<i class="fa-solid fa-pause"></i>`;

var getTime = function (seconds) {
  var mins = Math.floor(seconds / 60);
  seconds = Math.floor(seconds - mins * 60);
  return `${mins < 10 ? "0" + mins : mins}:${
    seconds < 10 ? "0" + seconds : seconds
  }`;
};

audio.addEventListener("loadeddata", function () {
  //   console.log(audio.duration);
  durationTimeEl.innerText = getTime(audio.duration);
});

playBtn.addEventListener("click", function (e) {
  e.stopPropagation();
  if (audio.paused) {
    audio.play();
    this.innerHTML = pauseIcon;
  } else {
    audio.pause();
    this.innerHTML = playIcon;
  }
});

audio.addEventListener("timeupdate", function () {
  if (!isDrag) {
    //   console.log("đang chạy: ", this.currentTime);
    currentTimeEl.innerText = getTime(this.currentTime);

    //Tính tỷ lệ phần trăm
    rate = (this.currentTime / this.duration) * 100;

    //Update vào timer
    progress.style.width = `${rate}%`;
    getWord(this.currentTime * 1000);
  }
});

audio.addEventListener("ended", function () {
  rate = 0;
  audio.currentTime = 0;
  progress.style.width = 0;
  playBtn.innerHTML = playIcon;
});

progressDot.addEventListener("mousemove", function (e) {
  e.stopPropagation();
});

progressBar.addEventListener("mousemove", function (e) {
  timer.style.display = "block";
  timer.style.left = `${e.offsetX}px`;
  var rate = (e.offsetX * 100) / this.clientWidth;
  var currentTime = (audio.duration * rate) / 100;
  timer.innerText = getTime(currentTime);
});

progressBar.addEventListener("mouseout", function () {
  timer.style.display = "none";
});
